# Examples

## Using go-pic library

Using the go-pic library is simple. An example is provided below, and in this directory [here](main.go) using an 
[example input file](data.txt) and the [struct](example.go) generated by the example in the [latter half](#using-go-pic-copybook-gen) of this README

```go
package main

import (
    "io/ioutil"
    "os"

    "github.com/pgmitche/go-pic"
)

func main() {
    // RECOMMENDED
    f, err := os.Open("mydata.txt") 
    if err != nil {
        ...
    }
    
    d := pic.NewDecoder(f)
    c := &MyPICTaggedStruct{}
    if err := d.Decode(c); err != nil {
        ...
    }
    
    ...

    // OR, ALTERNATIVELY
    
    b, err := ioutil.ReadFile("mydata.txt")
    if err != nil {
        ...
    }
    
    c := &MyPICTaggedStruct{}
    if err := pic.Unmarshal(b, c); err != nil {
        ...
    }

    ...
}
```

## Using go-pic Copybook gen

Example input is provided [here](ExampleCopybook.txt). It generates the struct located [here](example.go)

You can generate this yourself, and verify the behaviour with the following command: 
 
`$ gopic file -o example/example.go -i example/ExampleCopybook.txt`